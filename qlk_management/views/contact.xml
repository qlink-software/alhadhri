<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="contact_attachments_view_form" model="ir.ui.view">
        <field name="name">contact.attachments.view.form</field>
        <field name="model">contact.attachments</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <div class="row justify-content-between position-relative w-100 m-0 mb-2">
                        <div class="oe_title mw-75 ps-0 pe-2">
                            <h1 class="d-flex flex-row align-items-center"> 
                                <field name="name" placeholder="Contract Attachment's Description" required="True" style="font-size: min(4vw, 2.6rem);"/>
                            </h1>     
                        </div>
                        <div class="o_employee_avatar m-0 p-0">
                            <field name="blue_image" widget="image" class="oe_avatar m-0" options="{&quot;zoom&quot;: true, &quot;preview_image&quot;:&quot;avatar_128&quot;}"/>   
                        </div>
                    </div>           
                    <group>
                        <group>
                            <field name="qatar_id" />
                            <field name="commercial_register" />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <record id="view_client_document_tree" model="ir.ui.view">
        <field name="name">qlk.client.document.tree</field>
        <field name="model">qlk.client.document</field>
        <field name="arch" type="xml">
            <list editable="bottom">
                <field name="doc_type"/>
                <field name="attachment_id"/>
                <field name="poa_reference"/>
                <field name="poa_expiration_date"/>
                <field name="is_uploaded"/>
                <field name="note"/>
            </list>
        </field>
    </record>
    <record id="view_client_document_form" model="ir.ui.view">
        <field name="name">qlk.client.document.form</field>
        <field name="model">qlk.client.document</field>
        <field name="arch" type="xml">
            <form string="Client Document">
                <sheet>
                    <group>
                        <field name="partner_id"/>
                        <field name="doc_type"/>
                        <field name="attachment_id"/>
                        <field name="poa_reference"/>
                        <field name="poa_expiration_date"/>
                        <field name="note"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <record id="contact_attachments_action" model="ir.actions.act_window">
        <field name="name">Contact Attachments</field>
        <field name="res_model">contact.attachments</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
        
    </record>
    <record id="action_client_documents" model="ir.actions.act_window">
        <field name="name">Client Documents</field>
        <field name="res_model">qlk.client.document</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_client_document_tree"/>
    </record>
    
    <record id="inherit_view_id_res_partner" model="ir.ui.view">
        <field name="name">res.partner.view.form.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='industry_id']" position="replace">
            </xpath>
            <!-- <xpath expr="//field[@name='category_id']" position="after">
                <field name="industry_id" />
                <field name="create_date" />
            </xpath> -->
            <xpath expr="//page[@name='sales_purchases']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[@name='accounting']//group[@id='invoice_send_settings']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[@name='accounting']//group[@name='accounting_automation']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[@name='accounting']//field[@name='bank_ids']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
            <xpath expr="//div[@name='button_box']" position="replace"/>
            <xpath expr="//sheet" position="inside">
                <div class="alert alert-info o_bd_poa_reminder" modifiers="{'invisible': [('poa_expiry_reminder', '=', False)]}">
                    <span class="fw-bold">Client POA Expiry Reminder:</span>
                    <field name="poa_expiry_reminder" readonly="1" nolabel="1"/>
                </div>
                <div class="badge bg-secondary o_bd_client_code" modifiers="{'invisible': [('bd_client_code', '=', False)]}">
                    <span>Client Code:</span>
                    <field name="bd_client_code" readonly="1" nolabel="1"/>
                </div>
                <group>
                    <field name="poa_next_expiration_date" readonly="1"/>
                </group>
            </xpath>

            <xpath expr="//sheet//field[@name='country_id']" position="after">
                <group string="Identity Information" class="o_bd_identity_group">
                    <group>
                        <field name="bd_qid"/>
                        <field name="bd_passport"/>
                    </group>
                    <group colspan="2">
                        <field name="bd_contact_details"/>
                    </group>
                </group>
                <group string="Industry">
                    <field name="industry_id"/>
                </group>
            </xpath>

            <!-- <xpath expr="//field[@name='function']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='title']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='category_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='website']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath> -->
            <xpath expr="//sheet/notebook/page" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//sheet/notebook" position="inside">
                <page string="Client Documents">
                    <div invisible="not document_warning_required" class="mb-3">
                        <field name="document_warning_message" widget="html" nolabel="1"/>
                    </div>
                    <field name="client_document_ids" nolabel="1" context="{'default_partner_id': id}">
                        <list editable="bottom">
                            <field name="doc_type"/>
                            <field name="attachment_id"/>
                            <field name="poa_reference"/>
                            <field name="poa_expiration_date"/>
                            <field name="is_uploaded" readonly="1"/>
                            <field name="note"/>
                        </list>
                        <form string="Client Document">
                            <sheet>
                                <group>
                                    <field name="doc_type"/>
                                    <field name="attachment_id"/>
                                    <field name="poa_reference"/>
                                    <field name="poa_expiration_date"/>
                                    <field name="is_uploaded" readonly="1"/>
                                    <field name="note"/>
                                </group>
                            </sheet>
                        </form>
                    </field>
                </page>
                <page string="Client Attachments">
                    <field name="client_attachment_ids" nolabel="1">
                        <list editable="bottom">
                            <field name="name"/>
                            <field name="qatar_id"/>
                            <field name="commercial_register"/>
                        </list>
                        <form string="Client Attachment">
                            <sheet>
                                <group>
                                    <field name="name"/>
                                    <field name="qatar_id"/>
                                    <field name="commercial_register"/>
                                    <field name="blue_image" widget="image"/>
                                </group>
                            </sheet>
                        </form>
                    </field>
                </page>
            </xpath>
            <xpath expr="//field[@name='phone']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
            <xpath expr="//field[@name='mobile']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
            <xpath expr="//field[@name='email']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
            <xpath expr="//field[@name='vat']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='street']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='street2']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='city']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='state_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='zip']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='country_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='function']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='title']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='category_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='website']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
    </record>
    
    <record id="inherit_view_id_inherit_res_partner" model="ir.ui.view">
        <field name="name">res.partner.view.form.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter"/>
        <field name="arch" type="xml">
            <search>
                <group expand="0" name="group_by" string="Group By">
                    <filter name="date" string="Date" domain="[]" context="{'group_by' : 'indust_date'}"/>
                    <filter name="industuries" string="Industuries" domain="[]" context="{'group_by' : 'industry_id'}"/>
                </group>
            </search>
        </field>
    </record>
    <record id="inherit_view_id_res_partner_search_target_this_month" model="ir.ui.view">
        <field name="name">res.partner.view.form.inherit</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <search>
                <filter name="industuries" string="Industuries" domain="[]" context="{'group_by' : 'industry_id'}"/>
                <group expand="0" name="group_by" string="Group By">
                    <filter name="date" string="Date" domain="[]" context="{'group_by' : 'indust_date'}"/>
                    <filter name="industuries" string="Industuries" domain="[]" context="{'group_by' : 'industry_id'}"/>
                </group>
            </search>
        </field>
    </record>
    
</odoo>
