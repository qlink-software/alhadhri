<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="contact_attachments_view_form" model="ir.ui.view">
        <field name="name">contact.attachments.view.form</field>
        <field name="model">contact.attachments</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <div class="row justify-content-between position-relative w-100 m-0 mb-2">
                        <div class="oe_title mw-75 ps-0 pe-2">
                            <h1 class="d-flex flex-row align-items-center"> 
                                <field name="name" placeholder="Contract Attachment's Description" required="True" style="font-size: min(4vw, 2.6rem);"/>
                            </h1>     
                        </div>
                        <div class="o_employee_avatar m-0 p-0">
                            <field name="blue_image" widget="image" class="oe_avatar m-0" options="{&quot;zoom&quot;: true, &quot;preview_image&quot;:&quot;avatar_128&quot;}"/>   
                        </div>
                    </div>           
                    <group>
                        <group>
                            <field name="qatar_id" />
                            <field name="commercial_register" />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <record id="contact_attachments_action" model="ir.actions.act_window">
        <field name="name">Contact Attachments</field>
        <field name="res_model">contact.attachments</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
        
    </record>
    
    <record id="inherit_view_id_res_partner" model="ir.ui.view">
        <field name="name">res.partner.view.form.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='industry_id']" position="replace">
            </xpath>
            <!-- <xpath expr="//field[@name='category_id']" position="after">
                <field name="industry_id" />
                <field name="create_date" />
            </xpath> -->
            <xpath expr="//page[@name='sales_purchases']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[@name='accounting']//group[@id='invoice_send_settings']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[@name='accounting']//group[@name='accounting_automation']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//page[@name='accounting']//field[@name='bank_ids']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
            <xpath expr="//div[@name='button_box']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            
            <!-- <xpath expr="//field[@name='function']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='title']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='category_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='website']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath> -->
            <xpath expr="//group[1]" position="replace">
                <group>
                    <group>
                        <field name="industry_id" required="1"/>
                        <field name="create_date" />    
                        <field name="lang" invisible="active_lang_count &lt;= 1"/>
                        <!-- <span class="o_form_label o_td_label o_address_type" name="address_name">
                            <field name="type" invisible="is_company" readonly="user_ids" required="not is_company" class="fw-bold"/>
                            <span invisible="not is_company">Address</span>
                        </span>
                        <div class="o_address_format">
                            <field name="street" placeholder="Street..." class="o_address_street" readonly="type == 'contact' and parent_id"/>
                            <field name="street2" placeholder="Street 2..." class="o_address_street" readonly="type == 'contact' and parent_id"/>
                            <field name="city" placeholder="City" class="o_address_city" readonly="type == 'contact' and parent_id"/>
                            <field name="state_id" class="o_address_state" placeholder="State" options="{'no_open': True, 'no_quick_create': True}" readonly="type == 'contact' and parent_id" context="{'country_id': country_id, 'default_country_id': country_id, 'zip': zip}"/>
                            <field name="zip" placeholder="ZIP" class="o_address_zip" readonly="type == 'contact' and parent_id"/>
                            <div name="partner_address_country" class="d-flex justify-content-between">
                                <field name="country_id" placeholder="Country" class="o_address_country" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}" readonly="type == 'contact' and parent_id"/>
                            </div>
                        </div>
                        <field name="vat" placeholder="e.g. BE0477472701" readonly="parent_id"/> -->
                    </group>
                    <group>
                        <!-- <field name="function" placeholder="e.g. Sales Director" invisible="is_company"/> -->
                        <field name="phone" widget="phone" required="1"/>
                        <field name="mobile" widget="phone" required="1"/>
                        <field name="email" widget="email" context="{'gravatar_image': True}"  required="1"/>
                        <!-- <field name="website" string="Website" widget="url" placeholder="e.g. https://www.odoo.com"/> -->
                        <!-- <field name="title" options="{&quot;no_open&quot;: True}" placeholder="e.g. Mister" invisible="is_company"/> -->
                       
                        <!-- <field name="category_id" widget="many2many_tags" options="{'color_field': 'color'}" placeholder="e.g. &quot;B2B&quot;, &quot;VIP&quot;, &quot;Consulting&quot;, ..."/> -->
                    </group>
                </group>
            </xpath>
            <xpath expr="//page[@name='internal_notes']" position="after">
                <page string="Contact Attachments">
                    <field name="contact_attachment_id">    
                    </field>
                </page>
                <page string="Working Hours">
                    <field name="task_ids" />
                </page>
            </xpath>
        </field>
    </record>
    
    <record id="inherit_view_id_inherit_res_partner" model="ir.ui.view">
        <field name="name">res.partner.view.form.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter"/>
        <field name="arch" type="xml">
            <search>
                <group expand="0" name="group_by" string="Group By">
                    <filter name="date" string="Date" domain="[]" context="{'group_by' : 'indust_date'}"/>
                    <filter name="industuries" string="Industuries" domain="[]" context="{'group_by' : 'industry_id'}"/>
                </group>
            </search>
        </field>
    </record>
    <record id="inherit_view_id_res_partner_search_target_this_month" model="ir.ui.view">
        <field name="name">res.partner.view.form.inherit</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <search>
                <filter name="industuries" string="Industuries" domain="[]" context="{'group_by' : 'industry_id'}"/>
                <group expand="0" name="group_by" string="Group By">
                    <filter name="date" string="Date" domain="[]" context="{'group_by' : 'indust_date'}"/>
                    <filter name="industuries" string="Industuries" domain="[]" context="{'group_by' : 'industry_id'}"/>
                </group>
            </search>
        </field>
    </record>
    
    <record id="action_target_this_month" model="ir.actions.act_window">
        <field name="name">Target This Month</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="search_view_id" ref="qlk_management.inherit_view_id_res_partner_search_target_this_month"/>
        <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('base.res_partner_kanban_view')}),
                (0, 0, {'view_mode': 'list', 'view_id': ref('base.view_partner_tree')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('base.view_partner_form')})]"/>
        <field name="context">{'search_default_date': 1}</field>
    </record>
    
    <record id="contacts.action_contacts" model="ir.actions.act_window">
        <field name="context">{'search_default_industuries': 1}</field>
    </record>

    <menuitem
        id="target_this_month_menu"
        name="Targets This Month"
        action="action_target_this_month"
        parent="contacts.menu_contacts"
        sequence="1"/>

    <menuitem
        id="client_data_menu"
        name="Client Data"
        sequence="10"/>

    <!-- hide main contact menu  -->
    <menuitem name="Contacts"
        id="contacts.menu_contacts"
        sequence="20"
        active="false"
        web_icon="contacts,static/description/icon.png"
        groups="base.group_user,base.group_partner_manager"/>


    <menuitem
        id="contact_attachments_menu"
        name="Contact Attachments"
        action="contact_attachments_action"
        parent="contacts.res_partner_menu_contacts"
        sequence="2"/>


</odoo>
